<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Sitemap Generator</title>
</head>
<body>
<h1>Sitemap Generator</h1>
<p>Klicke den Link, um deine Sitemap herunterzuladen:</p>

<script>
const baseUrl = 'https://deinewebsite.github.io'; // Deine GitHub Pages URL
const today = new Date().toISOString().split('T')[0];

// Alle Links auf der Seite sammeln
const links = Array.from(document.querySelectorAll('a'))
  .map(a => a.getAttribute('href'))
  .filter(href => href && href.endsWith('.html') || href === '/');

// Doppelte entfernen
const pages = [...new Set(links)];

let sitemap = `<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
`;

pages.forEach(page => {
  // "/" behandeln
  let url = page === '/' ? baseUrl + '/' : baseUrl + '/' + page.replace(/^\//, '');
  sitemap += `
  <url>
    <loc>${url}</loc>
    <lastmod>${today}</lastmod>
    <priority>${page === '/' ? '1.0' : '0.8'}</priority>
  </url>`;
});

sitemap += `
</urlset>`;

// Ausgabe im Browser
document.body.innerHTML += `<pre>${sitemap}</pre>`;

// Download-Link erstellen
const blob = new Blob([sitemap], {type: 'text/xml'});
const link = document.createElement('a');
link.href = URL.createObjectURL(blob);
link.download = 'sitemap.xml';
link.textContent = 'Sitemap herunterladen';
document.body.appendChild(link);
</script>
</body>
</html>
